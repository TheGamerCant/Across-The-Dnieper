scripted_gui = {
	ukraine_miliary_aid_decisions = {
		context_type = decision_category
		window_name = "ukraine_miliary_aid_decisions"
		triggers = {
		}
		
		effects={
			UKR_germany_click = {
				UKR_clear_military_aid_countries = yes
				set_country_flag = UKR_ma_ger_selected
				if={
					limit = { NOT = { has_country_flag = UKR_opened_country_aid_equipment } }
					set_country_flag = UKR_opened_country_aid_equipment
				}
			}
			UKR_turkey_click = {
				UKR_clear_military_aid_countries = yes
				set_country_flag = UKR_ma_tur_selected
				if={
					limit = { NOT = { has_country_flag = UKR_opened_country_aid_equipment } }
					set_country_flag = UKR_opened_country_aid_equipment
				}
			}
			UKR_uk_click = {
				UKR_clear_military_aid_countries = yes
				set_country_flag = UKR_ma_uk_selected
				if={
					limit = { NOT = { has_country_flag = UKR_opened_country_aid_equipment } }
					set_country_flag = UKR_opened_country_aid_equipment
				}
			}
			UKR_usa_click = {
				UKR_clear_military_aid_countries = yes
				set_country_flag = UKR_ma_usa_selected
				if={
					limit = { NOT = { has_country_flag = UKR_opened_country_aid_equipment } }
					set_country_flag = UKR_opened_country_aid_equipment
				}
			}
		}
		properties = { 

		}
	}

	ukraine_miliary_aid_equipment = {
		context_type = player_context
		window_name = "ukraine_miliary_aid_equipment_gui"
		triggers = {
		}
		
		effects={
			close_button_click = {
				if={
					limit = { has_country_flag = UKR_opened_country_aid_equipment }
					clr_country_flag = UKR_opened_country_aid_equipment
				}
			}

			negotiate_aid_button_click = {
				if = {
					limit = {
						OR = {
							AND = {
								check_variable = { ROOT.UKR_ma_usa_variable > 60 }
								has_country_flag = UKR_ma_usa_selected
							}

							AND = {
								check_variable = { ROOT.UKR_ma_uk_variable > 60 }
								has_country_flag = UKR_ma_uk_selected
							}

							AND = {
								check_variable = { ROOT.UKR_ma_ger_variable > 60 }
								has_country_flag = UKR_ma_ger_selected
							}

							AND = {
								check_variable = { ROOT.UKR_ma_tur_variable > 60 }
								has_country_flag = UKR_ma_tur_selected
							}
						}
					}

					if = {
						limit = { NOT = { has_country_flag = UKR_ma_done_deal_recently } }
						
						set_country_flag = { flag = UKR_ma_done_deal_recently days = 40 }

						clr_country_flag = UKR_opened_country_aid_equipment


					}

					
				}
			}
		}
		properties = { 
			equipment_image = {
				image = "[UKR_get_military_aid_equipment_image]"
			}
		}

		visible={
			has_war_with = SOV
			has_country_flag = UKR_opened_country_aid_equipment
		}
	}


	ukraine_hur_decisions = {
		context_type = decision_category
		window_name = "UKR_HUR_decision"
		triggers = {
		}
		
		effects={
			UKR_HUR_decision_button_click = {
				if={
					limit = { NOT = { has_country_flag = UKR_opened_hur_ui } }
					set_country_flag = UKR_opened_hur_ui
				}
				else={
					clr_country_flag = UKR_opened_hur_ui
				}
			}
		}
		properties = { 
				
		}
	}

	UKR_HUR_belgorod_gui = {
		context_type = player_context
		window_name = "UKR_HUR_belgorod_gui"
		triggers = {
		}
		
		effects={
			open_moscow_view_button_click = {
				if={
					limit = { NOT = { has_country_flag = UKR_opened_hur_moscow_ui } check_variable = { ROOT.can_do_hur_mission = 1 } }
					set_country_flag = UKR_opened_hur_moscow_ui
				}
				else={
					clr_country_flag = UKR_opened_hur_moscow_ui
				}
			}
			city_borisovka_button_click = {
				if = {
					limit = { check_variable = { UKR.borisovka_controller = 1  } }

					UKR_HUR_belgorod_clear_flags = yes
					set_country_flag = UKR_HUR_borisovka_selected
	
					if={
						limit = { NOT = { has_country_flag = UKR_opened_hur_belgorod_prep_ui } check_variable = { ROOT.can_do_hur_mission = 1 } }
						set_country_flag = UKR_opened_hur_belgorod_prep_ui
					}
					else={
						clr_country_flag = UKR_opened_hur_belgorod_prep_ui
					}
				}

			}
			city_gorkovsky_tsapovka_shchetinovka_button_click = {
				if = {
					limit = { check_variable = { UKR.gorkovsky_tsapovka_shchetinovka_controller = 1  } }
					UKR_HUR_belgorod_clear_flags = yes
					set_country_flag = UKR_HUR_gorkovsky_tsapovka_shchetinovka_selected
	
					if={
						limit = { NOT = { has_country_flag = UKR_opened_hur_belgorod_prep_ui } check_variable = { ROOT.can_do_hur_mission = 1 } }
						set_country_flag = UKR_opened_hur_belgorod_prep_ui
					}
					else={
						clr_country_flag = UKR_opened_hur_belgorod_prep_ui
					}
				}

			}
			city_belgorod_button_click = {
				if = {
					limit = { check_variable = { UKR.belgorod_controller = 1  } }

					UKR_HUR_belgorod_clear_flags = yes
					set_country_flag = UKR_HUR_belgorod_selected
	
					if={
						limit = { NOT = { has_country_flag = UKR_opened_hur_belgorod_prep_ui } check_variable = { ROOT.can_do_hur_mission = 1 } }
						set_country_flag = UKR_opened_hur_belgorod_prep_ui
					}
					else={
						clr_country_flag = UKR_opened_hur_belgorod_prep_ui
					}
				}

			}
			city_shebeniko_button_click = {
				if = {
					limit = { check_variable = { UKR.shebeniko_controller = 1  } }

					UKR_HUR_belgorod_clear_flags = yes
					set_country_flag = UKR_HUR_shebeniko_selected
	
					if={
						limit = { NOT = { has_country_flag = UKR_opened_hur_belgorod_prep_ui } check_variable = { ROOT.can_do_hur_mission = 1 } }
						set_country_flag = UKR_opened_hur_belgorod_prep_ui
					}
					else={
						clr_country_flag = UKR_opened_hur_belgorod_prep_ui
					}
				}
			}


		}
		properties = { 
			city_borisovka_button = {
				image = "GFX_decision_UKR_hur_belgorod_button"
				frame = can_do_hur_mission
			}
			city_gorkovsky_tsapovka_shchetinovka_button = {
				image = "GFX_decision_UKR_hur_belgorod_button"
				frame = can_do_hur_mission
			}
			city_belgorod_button = {
				image = "GFX_decision_UKR_hur_belgorod_button"
				frame = can_do_hur_mission
			}
			city_shebeniko_button = {
				image = "GFX_decision_UKR_hur_belgorod_button"
				frame = can_do_hur_mission
			}


			city_borisovka = {
				frame = ROOT.borisovka_controller
			}
			city_gorkovsky = {
				frame = ROOT.gorkovsky_tsapovka_shchetinovka_controller
			}
			city_tsapovka = {
				frame = ROOT.gorkovsky_tsapovka_shchetinovka_controller
			}
			city_shchetinovka = {
				frame = ROOT.gorkovsky_tsapovka_shchetinovka_controller
			}
			city_belgorod = {
				frame = ROOT.belgorod_controller
			}
			city_shebeniko = {
				frame = ROOT.shebeniko_controller
			}
		}

		visible={
			has_war_with = SOV
			has_country_flag = UKR_opened_hur_ui
		}
	}

	ukraine_hur_gui = {
		context_type = player_context
		window_name = "UKR_HUR_crimea_gui"
		triggers = {
		}
		
		effects={

		}
		properties = { 
			UKR_HUR_mayak_and_olenivka = {
				image = "GFX_decision_UKR_hur_crimea_button"
				frame = can_do_hur_mission
			}
			UKR_HUR_sevastopol_port = {
				image = "GFX_decision_UKR_hur_crimea_button_2"
				frame = can_do_hur_mission
			}
			UKR_HUR_kerch_button = {
				image = "GFX_decision_UKR_hur_crimea_button_2"
				frame = can_do_hur_mission
			}
		}

		visible={
			AND = {
				has_war_with = SOV
				has_country_flag = UKR_opened_hur_ui
				NOT = {
					any_controlled_state = {
						has_state_flag = crimea_oblast_flag 
					}
				}
			}
			
		}
	}

	UKR_HUR_executive_gui = {
		context_type = player_context
		window_name = "UKR_HUR_executive_gui"
		triggers = {
		}
		
		effects={
			close_button_click = {
				clr_country_flag = UKR_opened_hur_ui
			}
		}
		properties = { 
		}

		visible={
			has_war_with = SOV
			has_country_flag = UKR_opened_hur_ui
		}
	}

	UKR_HUR_assassinations_gui = {
		context_type = player_context
		window_name = "UKR_HUR_assassinations_gui"
		triggers = {
		}
		
		effects={
			prepare_assassination_button_click = {
				if = {
					limit = {check_variable = { ROOT.can_do_hur_mission = 1 }

					log = "myVariable: [?HUR_assassination_array^0]"
				}
			}
		}
		}

		properties = {
			person_portrait = {
				image = "[UKR_HUR_get_assassination_portrait]"
			}
		}

		dynamic_lists = {
			assassination_grid_box = {
				array = HUR_assassination_array
				value = v
				index = i
				change_scope = yes
				entry_container = "assassination_array"
			}
		}

		visible={
			has_war_with = SOV
			has_country_flag = UKR_opened_hur_ui
		}
	}

	UKR_HUR_moscow_gui = {
		context_type = player_context
		window_name = "UKR_HUR_moscow_gui"
		triggers = {
		}
		
		effects={
			close_button_click = {
				clr_country_flag = UKR_opened_hur_moscow_ui
			}
		}
		properties = { 
		}

		visible={
			AND = {
				has_country_flag = UKR_opened_hur_ui
				has_country_flag = UKR_opened_hur_moscow_ui
			}
			
		}
	}

	UKR_HUR_belgorod_preperations_gui = {
		context_type = player_context
		window_name = "UKR_HUR_belgorod_preperations_gui"
		triggers = {
		}
		
		effects={
			close_button_click = {
				clr_country_flag = UKR_opened_hur_belgorod_prep_ui
			}

			begin_incursion_button_click = {
				if = {
					limit = {
						AND = {
							check_variable = { ROOT.given_rifles_incursion = ROOT.required_rifles_incursion }
							check_variable = { ROOT.given_manpower_incursion = ROOT.required_manpower_incursion }
							check_variable = { ROOT.given_apc_incursion = ROOT.required_apc_incursion }
							check_variable = { ROOT.given_mechanized_incursion = ROOT.required_mechanized_incursion }

							command_power > ROOT.required_cp_incursion
							check_variable = { ROOT.can_do_hur_mission = 1 }
						}
					}

					clr_country_flag = UKR_opened_hur_belgorod_prep_ui
					set_variable = { ROOT.can_do_hur_mission = 2 }




					if = {
						limit = { has_country_flag = UKR_HUR_borisovka_selected }
						set_variable = { ROOT.city_done_operation_in = 1 }
					}
					else_if = {
						limit = { has_country_flag = UKR_HUR_gorkovsky_tsapovka_shchetinovka_selected }
						set_variable = { ROOT.city_done_operation_in = 2 }
					}
					else_if = {
						limit = { has_country_flag = UKR_HUR_belgorod_selected }
						set_variable = { ROOT.city_done_operation_in = 3 }
					}
					else_if = {
						limit = { has_country_flag = UKR_HUR_shebeniko_selected }
						set_variable = { ROOT.city_done_operation_in= 4 }
					}

					set_temp_variable = { temp_var_cp = ROOT.required_cp_incursion }
					multiply_temp_variable = { temp_var_cp = -1 }

					add_command_power = temp_var_cp

					set_variable = { ROOT.given_rifles_incursion = 0 }
					set_variable = { ROOT.given_manpower_incursion = 0 }
					set_variable = { ROOT.given_apc_incursion = 0 }
					set_variable = { ROOT.given_mechanized_incursion = 0 }

					UKR_HUR_belgorod_incursion_calculate = yes
				}
			}
			fill_required_garrison_click = {
				if = {
					limit = { 
						NOT = {
							check_variable = { ROOT.given_rifles_incursion = ROOT.required_rifles_incursion }
							check_variable = { ROOT.given_manpower_incursion = ROOT.required_manpower_incursion }
							check_variable = { ROOT.given_apc_incursion = ROOT.required_apc_incursion }
							check_variable = { ROOT.given_mechanized_incursion = ROOT.required_mechanized_incursion }
						}
					}

					if = {
						limit = {
							AND = {
								has_equipment = { infantry_equipment > ROOT.required_rifles_incursion }
								has_equipment = { apc_equipment > ROOT.required_apc_incursion }
								has_equipment = { mechanized_equipment > ROOT.required_mechanized_incursion }
								has_manpower > ROOT.required_manpower_incursion
							}
						}

						set_temp_variable = { temp_var_inf = ROOT.required_rifles_incursion }
						multiply_temp_variable = { temp_var_inf = -1 }

						set_temp_variable = { temp_var_apc = ROOT.required_apc_incursion }
						multiply_temp_variable = { temp_var_apc = -1 }

						set_temp_variable = { temp_var_mec = ROOT.required_mechanized_incursion }
						multiply_temp_variable = { temp_var_mec = -1 }

						set_temp_variable = { temp_var_man = ROOT.required_manpower_incursion }
						multiply_temp_variable = { temp_var_man = -1 }

						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = temp_var_inf
						}
						add_equipment_to_stockpile = {
							type = apc_equipment
							amount = temp_var_apc
						}
						add_equipment_to_stockpile = {
							type = apc_equipment
							amount = temp_var_mec
						}

						add_manpower = temp_var_man

						set_variable = { ROOT.given_rifles_incursion = ROOT.required_rifles_incursion }
						set_variable = { ROOT.given_manpower_incursion = ROOT.required_manpower_incursion }
						set_variable = { ROOT.given_apc_incursion = ROOT.required_apc_incursion }
						set_variable = { ROOT.given_mechanized_incursion = ROOT.required_mechanized_incursion }
					}
				}
			}
		}
		properties = { 
			UKR_HUR_ally_rvc = {
				image = "GFX_decision_UKR_hur_russian_collaborators_rvc"
				frame = rvc_frame
			}
			UKR_HUR_ally_frl = {
				image = "GFX_decision_UKR_hur_russian_collaborators_frl"
				frame = frl_frame
			}
			UKR_HUR_ally_pvc = {
				image = "GFX_decision_UKR_hur_russian_collaborators_pvc"
				frame = pvc_frame
			}
			UKR_HUR_ally_bvc = {
				image = "GFX_decision_UKR_hur_russian_collaborators_bvc"
				frame = bvc_frame
			}
		}

		visible={
			AND = {
				has_war_with = SOV
				has_country_flag = UKR_opened_hur_ui
				has_country_flag = UKR_opened_hur_belgorod_prep_ui
			}
			
		}
	}
}