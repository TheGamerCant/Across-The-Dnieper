scripted_gui = {
	LIT_municipality_button = {
		window_name = "LIT_municipality_gui_button"
		context_type = player_context
		parent_window_token = politics_tab

		visible = {
			is_ai = no
			tag = LIT
		}

		effects={
			LIT_municipality_open_button_click = {
				if={
					limit = { NOT = { has_country_flag = LIT_has_opened_municipality_view_flag } }
					set_country_flag = LIT_has_opened_municipality_view_flag
				}
				else={
					clr_country_flag = LIT_has_opened_municipality_view_flag

					clr_country_flag = LIT_vilnius_city_selected
					clr_country_flag = LIT_kaunas_city_selected
				}
			}
		}
	}

	LIT_municipality_gui = {
		window_name = "LIT_municipality_gui"
		context_type = player_context

		visible={
			tag = LIT
			has_country_flag = LIT_has_opened_municipality_view_flag
		}

		properties = {
			selected_city_mayor_portrait = {
				image = "[LIT_get_mayor]"
			}

			kaunas_council_seat = {
				x = kaunas_council_x^seat_idx
				y = kaunas_council_y^seat_idx
				frame = city_council_array^seat_idx
			}

			vilnius_council_seat = {
				x = vilnius_council_x^seat_idx
				y = vilnius_council_y^seat_idx
				frame = city_council_array_2^seat_idx
			}
		}

		dynamic_lists = {
			kaunas_council_container = {
				array = kaunas_council_x
				change_scope = no
				entry_container = kaunas_council_container
				index = seat_idx
			}

			vilnius_council_container = {
				array = vilnius_council_x
				change_scope = no
				entry_container = vilnius_council_container
				index = seat_idx
			}
		}

		effects={
			LIT_municipality_kaunas_click = {
				clr_country_flag = LIT_vilnius_city_selected
				set_country_flag = LIT_kaunas_city_selected

				LIT_get_kaunas_seats = yes
			}
			LIT_municipality_vilnius_click = {
				clr_country_flag = LIT_kaunas_city_selected
				set_country_flag = LIT_vilnius_city_selected

				LIT_get_vilnius_seats = yes
			}
		}

		triggers={
			selected_city_mayor_frame_visible={
				OR = {
					has_country_flag = LIT_kaunas_city_selected
					has_country_flag = LIT_vilnius_city_selected
				}
			}
			selected_city_mayor_portrait_visible={
				OR = {
					has_country_flag = LIT_kaunas_city_selected
					has_country_flag = LIT_vilnius_city_selected
				}
			}
			mayor_text_box_visible={
				OR = {
					has_country_flag = LIT_kaunas_city_selected
					has_country_flag = LIT_vilnius_city_selected
				}
			}
			council_text_box_visible={
				OR = {
					has_country_flag = LIT_kaunas_city_selected
					has_country_flag = LIT_vilnius_city_selected
				}
			}
			select_city_text_box_visible={
				NOT = {
					has_country_flag = LIT_kaunas_city_selected
					has_country_flag = LIT_vilnius_city_selected
				}
			}




			kaunas_council_seat_visible = {
				AND = {
					has_country_flag = LIT_kaunas_city_selected
					NOT = { has_country_flag = LIT_vilnius_city_selected }
				}
				
			}
			vilnius_council_seat_visible = {
				AND = {
					has_country_flag = LIT_vilnius_city_selected
					NOT = { has_country_flag = LIT_kaunas_city_selected }
				}
			}
		}
	}
}

